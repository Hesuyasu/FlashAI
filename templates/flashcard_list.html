{% extends 'base.html' %}
{% load static %}
{% block title %}All FlashCards{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
<style>
/* Layout adjustments */
.flashcard-list { display:flex; flex-wrap:wrap; gap:1.4rem; justify-content:center; }
.flashcard-item { width:280px; cursor:pointer; display:flex; flex-direction:column; justify-content:space-between; }
/* Use comic-panel base; customize inner text */
.flashcard-item .question-label { display:block; font-weight:600; color:#d94545; margin-bottom:.4rem; }
.flashcard-item .answer { display:none; margin-top:.6rem; font-size:.95rem; color:#333; }
.flashcard-item.active .answer { display:block; }
.flashcard-item.active { background:#ffdede; }
.flashcard-footer { font-size:.75rem; color:#555; margin-top:.75rem; font-weight:400; }
/* Buttons */
.crud-btn-group { margin-top:.8rem; align-self:flex-end; display:flex; gap:.45rem; }
.crud-btn-group a { text-decoration:none; font-size:.75rem; padding:.35rem .65rem; border:2px solid #333; border-radius:12px; box-shadow:3px 3px 0 #f08f7f; background:#fff; color:#333; font-weight:600; transition:transform .2s ease, box-shadow .2s ease, background .2s ease; }
.crud-btn-group a:hover { transform:translate(-3px,-3px); box-shadow:6px 6px 0 #f08f7f; }
.crud-btn-group a.edit-btn { border-color:#0d6efd; color:#0d6efd; }
.crud-btn-group a.edit-btn:hover { background:#0d6efd; color:#fff; }
.crud-btn-group a.delete-btn { border-color:#dc3545; color:#dc3545; }
.crud-btn-group a.delete-btn:hover { background:#dc3545; color:#fff; }
@media (max-width:576px){ .flashcard-item { width:100%; } }
</style>
{% endblock %}

{% block content %}
<div class="comic-dashboard">
    <h2 class="mb-4 comic-heading"><span>FlashCard List</span></h2>
    <div class="flashcard-list">
        {% if flashcards %}
        {% for flashcard in flashcards %}
        <div class="flashcard-item comic-panel" onclick="this.classList.toggle('active')">
            <div>
                <span class="question-label">Q:</span> {{ flashcard.question }}
                <div class="answer"><strong>A:</strong> {{ flashcard.answer }}</div>
                <div class="flashcard-footer">Category: {{ flashcard.category.name }} | Created: {{ flashcard.created_at|date:"Y-m-d" }}</div>
            </div>
            <div class="crud-btn-group">
                <a href="{% url 'flashcard_update' flashcard.id %}" class="edit-btn" title="Edit">&#9998; Edit</a>
                <a href="{% url 'flashcard_delete' flashcard.id %}" class="delete-btn" title="Delete" onclick="return confirm('Are you sure you want to delete this flashcard?');">&#128465; Delete</a>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <p class="text-muted text-center py-3">No flashcards found.</p>
        {% endif %}
    </div>
</div>
{% endblock %}